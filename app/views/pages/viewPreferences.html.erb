<head>

  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link href='http://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>

</head>
  <script>
  
  $(function() {
    $( "#slider-text" ).slider({
      value:1,
      min: 0,
      max: 2,
      step: 1,
      slide: function( event, ui ) {
        $( "#amount2" ).val( getTextDetail(ui.value) );
      }
    });
    $( "#amount2" ).val( getTextDetail($( "#slider-text" ).slider( "value" )) );
  });

function getTextDetail(value){
  if(value == 0){
        display = "Summaries Only";
      }else if(value == 2){
        display = "More Stories";
      }else{
        display = "Normal";
      }
      return display;
}

    $(function() {
    $( "#slider-images" ).slider({
      value:2,
      min: 0,
      max: 3,
      step: 1,
      slide: function( event, ui ) {
        $( "#amount3" ).val( getImageDetail(ui.value) );
      }
    });
    $( "#amount3" ).val( getImageDetail($( "#slider-images" ).slider( "value" )) );
  });

    function getImageDetail(value){
  if(value == 0){
        display = "None";
      }else if(value == 1){
        display = "A Few";
      }else if(value == 3){
        display = "Lots";
      }else{
        display = "Normal";
      }
      return display;
}

    $(function() {
      $( "#slider-range" ).slider({
        range: true,
        min: 1984,
        max: getCurrentYear(),
        values: [ 1989, 2015 ],
        slide: function( event, ui ) {
          $( "#amount" ).val( getDate(ui.values[ 0 ]) + " to " + getDate(ui.values[ 1 ]) );
        }
      });

      $( "#amount" ).val( getDate($( "#slider-range" ).slider( "values", 0 )) + " to " + getDate($( "#slider-range" ).slider( "values", 1 )) );
    });

    function getDate(value) {
      if(value == 1988){
        display = "My Parents Meeting";
      }else if(value == 1987){
        display = "My Parents Story";
      }else if(value == 1986){
        display = "My Grandparents Story";
      }else if(value == 1985){
        display = "My Ancestry (1800's)";
      }else if(value == 1984){
        display = "My Ancestry (<1800's)";
      }else if(value == getCurrentYear()){
        display = "Today"
      }else{
        display = value;
      }
      return display;
    }

    function getCurrentYear(){
      return new Date().getFullYear()
    }

  </script>



    
<div class='box'>



<%= form_for(@group) do |f| %>
  <% if @group.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@group.errors.count, "error") %> prohibited this group from being saved:</h2>

      <ul>
      <% @group.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  </div>


<div class='content-container'>
<div class="group_content_text">
  <br/>
  <br/>
  <h3>Adjust your viewing preferences</h3>
  <br/>
  <div class="field">
    <label for="amount">Time Frame:</label>
    <input type="text" id="amount" size="60" readonly style="border:0; font-weight:bold;"> 
    <div id="slider-range" style="width:80%;"></div>
    <br/>
  </div>
  <div class="field">
  <label for="amount2">Narrative Detail:</label>
  <input type="text" id="amount2" readonly style="border:0; font-weight:bold;">
  <div id="slider-text" style="width:80%;"></div>
  <br/>
  </div>
  <div class="field">
  <label for="amount3">Images:</label>
  <input type="text" id="amount3" readonly style="border:0; font-weight:bold;">
  <div id="slider-images" style="width:80%;"></div>
  </div>

  <!-- Story Tags -->
  <div class="field">
    <%#= f.label :storylineTag_id, "Storylines" %><br>
     <%#= collection_check_boxes(:storylineTags, :ids, StorylineTag.all, :id, :name, {}, {:multiple => true}) %>
  </div>
  <!-- Character Tags -->
  <div class="field">
    <%#= f.label :characterTags %><br>
    <%#= collection_check_boxes(:characterTags, :ids, CharacterTag.all, :id, :name, {}, {:multiple => true}) %>
  </div>


  <div class="actions">
    <%= button_to "Update Viewing Preferences", action: "new" %>
  </div>
  <% end %>

</div>
</div>
  </div>