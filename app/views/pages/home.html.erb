<head>

  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link href='http://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>

</head>
  <script>
  
  $(function() {
    $( "#slider" ).slider({
      value:1,
      min: 0,
      max: 2,
      step: 1,
      slide: function( event, ui ) {
        $( "#amount2" ).val( "$" + ui.value );
      }
    });
    $( "#amount2" ).val( "$" + $( "#slider" ).slider( "value" ) );
  });

    $(function() {
      $( "#slider-range" ).slider({
        range: true,
        min: 1984,
        max: getCurrentYear(),
        values: [ 1989, 2015 ],
        slide: function( event, ui ) {
          $( "#amount" ).val( getDate(ui.values[ 0 ]) + " to " + getDate(ui.values[ 1 ]) );
        }
      });

      $( "#amount" ).val( getDate($( "#slider-range" ).slider( "values", 0 )) + " to " + getDate($( "#slider-range" ).slider( "values", 1 )) );
    });

    function getDate(value) {
      if(value == 1988){
        display = "My Parents Meeting";
      }else if(value == 1987){
        display = "My Parents Story";
      }else if(value == 1986){
        display = "My Grandparents Story";
      }else if(value == 1985){
        display = "My Ancestry (1800's)";
      }else if(value == 1984){
        display = "My Ancestry (<1800's)";
      }else if(value == getCurrentYear()){
        display = "Today"
      }else{
        display = value;
      }
      return display;
    }

    function getCurrentYear(){
      return new Date().getFullYear()
    }

  </script>

<%= form_for(@group) do |f| %>
  <% if @group.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@group.errors.count, "error") %> prohibited this group from being saved:</h2>

      <ul>
      <% @group.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  </div>


<h1>Memoir</h1>

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
IMAGE COLALGE
<br/><br/><br/><br/><br/>

  <div class="field">
    <label for="amount">Time Frame:</label>
    <input type="text" id="amount" size="60" readonly style="border:0; font-weight:bold;"> 
    <div id="slider-range" style="width:80%;"></div>
    <br/>
  </div>
  <div class="field">
  <label for="amount2">Detail Level:</label>
  <input type="text" id="amount2" readonly style="border:0; font-weight:bold;">
  <div id="slider" style="width:80%;"></div>
  </div>


  <div class="field">
    <%= f.label :storylineTag_id, "Storylines" %><br>
     <%= collection_check_boxes(:storylineTags, :ids, StorylineTag.all, :id, :name, {}, {:multiple => true}) %>
  </div>
  <!-- Character Tags -->
  <div class="field">
    <%= f.label :characterTags %><br>
    <%= collection_check_boxes(:characterTags, :ids, CharacterTag.all, :id, :name, {}, {:multiple => true}) %>
  </div>


  <div class="actions">
    <%= link_to 'View Memoir', pages_view_path %>
    <%= f.submit %>
  </div>
  <% end %>